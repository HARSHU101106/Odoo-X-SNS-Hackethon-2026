<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Panel ‚Äì Travel Management</title>

<style>
*{box-sizing:border-box;font-family:Segoe UI,sans-serif}
body{
    margin:0;
    background:#0f172a;
    color:#e5e7eb;
    padding:30px;
}
.container{
    display:grid;
    grid-template-columns:300px 1fr;
    gap:24px;
}
.card{
    background:#1e293b;
    padding:20px;
    border-radius:14px;
}
h2,h3{margin-top:0;color:#38bdf8}
input,select,button{
    width:100%;
    padding:10px;
    margin:6px 0;
    border-radius:8px;
    border:none;
}
button{
    background:#2563eb;
    color:white;
    cursor:pointer;
}
button:hover{background:#1d4ed8}
.list{
    margin-top:10px;
    font-size:14px;
}
.trip{
    background:#020617;
    padding:12px;
    border-radius:10px;
    margin-bottom:10px;
}
.trip span{display:block;font-size:13px}
.actions button{
    width:auto;
    padding:5px 10px;
    margin-right:6px;
    font-size:12px;
}
.delete{background:#ef4444}
.view{background:#22c55e}
.edit{background:#eab308}
</style>
</head>

<body>

<h1>üåç Admin Travel Dashboard</h1>

<div class="container">

<!-- ADMIN CONTROLS -->
<div class="card">

<h3>Add City</h3>
<input id="cityInput" placeholder="City Name">
<button onclick="addCity()">Add City</button>

<h3>Add Activity</h3>
<select id="citySelect"></select>
<input id="activityInput" placeholder="Activity Name">
<button onclick="addActivity()">Add Activity</button>

<h3>Add User Trip</h3>
<input id="userName" placeholder="User Name">
<select id="tripCity"></select>
<select id="tripActivity"></select>
<button onclick="addTrip()">Add Trip</button>

</div>

<!-- DATA VIEW -->
<div class="card">

<h3>Search & Manage Trips</h3>
<input id="search" placeholder="Search by user / city / activity" onkeyup="searchTrips()">

<div id="tripList"></div>

</div>

</div>

<script>
/* DATA */
let cities=[];
let activities={};
let trips=[];

/* ADD CITY */
function addCity(){
    let c=cityInput.value.trim();
    if(!c||cities.includes(c)) return;
    cities.push(c);
    activities[c]=[];
    cityInput.value="";
    renderCityDropdowns();
}

/* ADD ACTIVITY */
function addActivity(){
    let city=citySelect.value;
    let act=activityInput.value.trim();
    if(!city||!act||activities[city].includes(act)) return;
    activities[city].push(act);
    activityInput.value="";
    renderActivityDropdown();
}

/* ADD USER TRIP */
function addTrip(){
    if(!userName.value||!tripCity.value||!tripActivity.value) return;

    trips.push({
        user:userName.value,
        city:tripCity.value,
        activity:tripActivity.value
    });
    userName.value="";
    renderTrips(trips);
}

/* RENDER DROPDOWNS */
function renderCityDropdowns(){
    citySelect.innerHTML=tripCity.innerHTML="<option value=''>Select City</option>";
    cities.forEach(c=>{
        citySelect.innerHTML+=`<option>${c}</option>`;
        tripCity.innerHTML+=`<option>${c}</option>`;
    });
}

function renderActivityDropdown(){
    tripActivity.innerHTML="<option value=''>Select Activity</option>";
    let city=tripCity.value;
    if(!city) return;
    activities[city].forEach(a=>{
        tripActivity.innerHTML+=`<option>${a}</option>`;
    });
}
tripCity.onchange=renderActivityDropdown;

/* RENDER TRIPS */
function renderTrips(data){
    tripList.innerHTML="";
    data.forEach((t,i)=>{
        tripList.innerHTML+=`
        <div class="trip">
            <strong>${t.user}</strong>
            <span>City: ${t.city}</span>
            <span>Activity: ${t.activity}</span>
            <div class="actions">
                <button class="delete" onclick="deleteTrip(${i})">Delete</button>
            </div>
        </div>`;
    });
}

/* SEARCH */
function searchTrips(){
    let q=search.value.toLowerCase();
    let filtered=trips.filter(t=>
        t.user.toLowerCase().includes(q) ||
        t.city.toLowerCase().includes(q) ||
        t.activity.toLowerCase().includes(q)
    );
    renderTrips(filtered);
}

/* DELETE */
function deleteTrip(i){
    trips.splice(i,1);
    renderTrips(trips);
}
</script>

</body>
</html>
