<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Create New Trip | GlobeTrotter</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />

    <style>
      body {
        margin: 0;
        font-family: "Segoe UI", Arial, sans-serif;
        background: #0f172a;
        color: #e5e7eb;
        min-height: 100vh;
        padding-top: 80px;
      }

      /* NAVBAR */
      .navbar {
        height: 60px;
        background: #020617;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 20px;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
      }

      .navbar-left {
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 18px;
        font-weight: 600;
      }

      .navbar-left img {
        height: 36px;
        width: 36px;
        border-radius: 8px;
      }

      .navbar-left i {
        cursor: pointer;
      }

      .navbar-right i {
        font-size: 24px;
        cursor: pointer;
        color: #e5e7eb;
      }

      /* SIDEBAR */
      .sidebar {
        position: fixed;
        top: 60px;
        left: -240px;
        width: 240px;
        height: calc(100vh - 60px);
        background: #020617;
        padding: 15px;
        transition: 0.3s;
        z-index: 999;
      }

      .sidebar a {
        color: #cbd5f5;
        text-decoration: none;
        padding: 12px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 6px;
        transition: 0.3s;
      }

      .sidebar a:hover,
      .sidebar a.active {
        background: #1e293b;
        color: #57e1ee;
      }

      /* MAIN FORM */
      .screen {
        width: 100%;
        max-width: 520px;
        background: #121212;
        border-radius: 14px;
        padding: 28px;
        margin: auto;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.7);
      }

      h3 {
        font-size: 26px;
        text-align: center;
        margin-bottom: 24px;
      }

      .form-row {
        display: flex;
        flex-direction: column;
        margin-bottom: 18px;
      }

      .form-row label {
        margin-bottom: 6px;
        color: #ccc;
      }

      .form-row input,
      .form-row textarea {
        padding: 12px;
        border-radius: 10px;
        border: 1px solid #555;
        background: #1e1e1e;
        color: white;
        font-size: 16px;
      }

      input[readonly] {
        cursor: pointer;
        background: #2a2a2a;
      }

      textarea {
        resize: none;
        height: 90px;
      }

      .link-buttons {
        display: flex;
        gap: 12px;
        margin-top: 16px;
        justify-content: center;
      }

      .link-buttons button {
        flex: 1;
        padding: 12px;
        border-radius: 10px;
        border: none;
        font-size: 16px;
        cursor: pointer;
        background: linear-gradient(135deg, #6a5acd, #836fff);
        color: #fff;
      }

      .save-btn {
        margin-top: 20px;
        width: 100%;
        padding: 14px;
        border-radius: 12px;
        border: none;
        background: linear-gradient(135deg, #6a5acd, #836fff);
        color: #fff;
        font-size: 18px;
        cursor: pointer;
      }

      /* MODALS */
      .modal-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.7);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 2000;
      }

      .modal {
        background: #1a1a1a;
        padding: 28px;
        border-radius: 16px;
        width: 90%;
        max-width: 360px;
        text-align: center;
      }

      .modal button {
        margin-top: 12px;
        padding: 10px 18px;
        border-radius: 10px;
        border: none;
        background: #0f172a;
        color: #e5e7eb;
        cursor: pointer;
      }
    </style>
  </head>

  <body>
    <!-- NAVBAR -->
    <div class="navbar">
      <div class="navbar-left">
        <i class="fa fa-bars" onclick="toggleSidebar()"></i>
        <img src="{{ url_for('static', filename='logo.jpeg') }}" />
        <span>GlobeTrotter</span>
      </div>
      <div class="navbar-right">
        <a href="{{ url_for('profile') }}">
          <i class="fa fa-user-circle"></i>
        </a>
      </div>
    </div>

    <!-- SIDEBAR -->
    <div class="sidebar" id="sidebar">
      <a href="/dashboard"><i class="fa fa-home"></i> Dashboard</a>
      <a href="/create_trip"><i class="fa fa-plus"></i> Create Trips</a>
      <a href="/my_trips"><i class="fa fa-suitcase"></i> My Trips</a>
      <a href="/public_itenary"><i class="fa fa-route"></i> public Itinerary
      </a>
      <a href="/trip_calendar"><i class="fa fa-calendar"></i> Trip Calendar</a>
      <a href="/budget"><i class="fa fa-wallet"></i> Budget</a>
      <a href="/login"><i class="fa fa-right-from-bracket"></i> Logout</a>
    </div>

    <!-- MAIN -->
    <div class="screen">
      <h3>Create Your New Trip ‚úàÔ∏è</h3>

      <div class="form-row">
        <label>Trip Name *</label>
        <input id="tripName" />
      </div>

      <div class="form-row">
        <label>Description *</label>
        <textarea id="description"></textarea>
      </div>

      <div class="form-row">
        <label>Destination *</label>
        <a href="{{ url_for('city_search_page') }}" class="input-link">
        <input
          id="destination"
          readonly
          placeholder="Select city"/></a>


      </div>

      <div class="form-row">
        <label>Start Date *</label>
        <input type="date" id="startDate" />
      </div>

      <div class="form-row">
        <label>End Date *</label>
        <input type="date" id="endDate" />
      </div>

      <button class="save-btn" onclick="saveTrip()">Save Trip</button>
    </div>

    <!-- MODALS -->
    <div class="modal-overlay" id="successModal">
      <div class="modal">
        <h4>üéâ Trip Created!</h4>
        <button onclick="closeModal('successModal')">OK</button>
      </div>
    </div>

    <div class="modal-overlay" id="errorModal">
      <div class="modal">
        <h4>‚ö†Ô∏è Please fill all fields</h4>
        <button onclick="closeModal('errorModal')">OK</button>
      </div>
    </div>

    <!-- SCRIPT -->
    <script>
      function toggleSidebar() {
        const s = document.getElementById("sidebar");
        s.style.left = s.style.left === "0px" ? "-240px" : "0px";
      }

      function saveTrip() {
        const ids = ["tripName", "description", "destination", "startDate", "endDate"];

        for (let id of ids) {
          if (!document.getElementById(id).value.trim()) {
            document.getElementById("errorModal").style.display = "flex";
            return;
          }
        }
        document.getElementById("successModal").style.display = "flex";
      }

      function closeModal(id) {
        document.getElementById(id).style.display = "none";
      }
    </script>
  </body>
</html>
